<html>
  <head>
    <title>Markdown Presenter</title>
    <style>
      html, body {
        margin:0;
        border:0;
        padding:0;
      }
      div.centered {
        margin:auto;
        font-size:40px;
        width:20em; /* So we get about 10 words per line */
      }
      .slideCount {
        position: absolute;
        bottom: 1em;
        right: 1em;
      }

      /* My styling here */
     /* End styling */
    </style>
    <script type="text/javascript" src="utils.js"></script>
    <script type="text/javascript" src="presenter/js/jquery.js"></script>
    <script type="text/javascript" src="presenter/js/showdown.js"></script>
    <link href="presenter/css/style.css" rel="stylesheet" type="text/css">
    <link href="app.css" rel="stylesheet" type="text/css">
    <link href="custom.css" rel="stylesheet" type="text/css">
    <!--<link href="presenter/css/github.css" rel="stylesheet" type="text/css">-->
  </head>
  <body>

    <div class="bg">&nbsp;</div>

    <table style="width:100%;height:100%;border-collapse:collapse">
      <tr valign=center>
        <td>
          <div class='centered'>
            <em>Loading</em>
          </div>
        </td>
      </tr>
    </table>

    <div class='slideCount'>Slide X of Y</div>

    <script src="presenter/js/rainbow.min.js"></script>
    <script src="presenter/js/generic.js"></script>
    <script src="presenter/js/javascript.js"></script>
    <script src="presenter/js/microevent.js"></script>
    <script src="presenter/js/presenter.js"></script>
    <script src="Bacon.js"></script>
    <script src="d3.min.js"></script>
    <script src="baconviz.js"></script>

    <script>
      var unbindings = [];

      Present.bind('slide:show', function() {
        unbindings.map(function(unbind) {
          unbind()
        });
        unbindings = []


        $('code').each(function(i, el) {
          var code = $(el).text()
          eval.call(window, code)

          $('input').keyup(function(ev) {
            ev.stopPropagation()
          });
          $('span[data-stream]').each(function() {
            var unbind = drawStream(
              $(this)[0],
              $(this).data('title'),
              window[$(this).data('stream')]
            );
            unbindings.push(unbind);
          });

          $('[data-property]').each(function() {
            var $el = $(this);
            var title = $el.data('title');

            $el.text(title + ": ")
            var unbind = window[$(this).data('property')].onValue(function(value) {
              $el.text(title + ": "+value);
            });

            unbindings.push(unbind)
          });
        })
      })
    </script>
  </body>
</html>
