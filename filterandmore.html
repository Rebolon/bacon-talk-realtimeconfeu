<link href='app.css' type='text/css' rel='stylesheet'>
<script src='jquery.min.js'></script>
<script src='d3.min.js'></script>
<script src='Bacon.js'></script>
<script src='baconviz.js'></script>

<input id='search'>

<pre>
  var queries = $('#search').asEventStream('keyup')
                            .map(function(ev) {
                              return $(ev.currentTarget).val()
                            })
                            .filter(function(query) {
                              return (query.length > 3);
                            })
                            .skipDuplicates()
                            .debounce(500)

  queries.onValue(function(query) {
    console.log(query);
  });

</pre>
<pre style='visibility:none'> 
  drawStream('#canvas', 'Map', queries)
</pre>

<div id='canvas'></div>


<script>
  $(function() {
    $('pre').each(function() {
      eval.call(window, $(this).text());
    });
  });
</script>
